1. Запустите программу из листинга 4.1 еще раз, и когда программа запросит ввод имени, введите имя и фамилию. Что происходит? Почему?

---



2. Предположим, что каждый из следующих примеров является частью завершен­ной программы. Что будет выводить к^аждая такая часть?

а. printf("Он продал эту картину за $%2.2f.\n",  2.345е2);

б. printf ( "%c%c%c\n",  'Н',  105,  ' \ 41') ;

в. #define Q "Его Гамлет был хорош,  и без намека на вульгарность." 

printf ( '"^^содержит %d символов. \n",  Q,  strlen (Q) ) ;

г. рrintf( "Является ли %2.2е тем же,  что и%2.2f?\n",  1201.0,  1201.0);


---



1. Если пользователь вводит имя и фамилию при запуске программы из листинга 4.1, то программа сохранит их оба в переменной `name`, так как функция `scanf()` прервётся только после того, как будет получено два значения. Потом программа продолжит свою работу без вывода дополнительных сообщений или изменения поведения.
2. 

а. Данная строка кода выведет следующий текст: "Он продал эту картину за $234.50." Флаг `%2.2f` означает, что нужно вывести число типа float (с плавающей точкой) с двумя знаками после запятой, и минимальное количество символов для поля вывода равно двум.

б. Выполнение этой строки кода приведёт к выводу "Нi)", где "i" обозначает цифру 105 в таблице ASCII, а ")" - это просто сам символ. Необходимо учитывать, что символ с кодом 92 обозначает экранирование, поэтому символ "" будет выведен в виде символа экранирования.

в. Программа выведет строку "Его Гамлет был хорош, и без намека на вульгарность" и сообщение об ошибке. Функция `printf()` используется для вывода форматированной строки, но функция `strlen()` принимает только один аргумент и не может использоваться в функции `printf()`. Правильным способом сохранения количества символов в данном случае является использование оператора `sizeof` или подсчет количества символов вручную.

г. Эта строка кода выведет следующее сообщение: "Является ли 1.20e+03 тем же, что и 1201.00?" Флаг `%2.2е` использует формат экспоненциальной записи числа с двумя знаками после запятой в мантиссе и двумя цифрами в экспоненте.

---



3. Какие изменения необходимо сделать в пункте в) второго вопроса, чтобы стро­ка Q бьиа выведена в двойных кавычках?

---

#define Q "Его Гамлет был хорош,  и без намека на вульгарность."

---



4. Попробуйте найти ошибку в следующем коде:


```c
#define В Вообоо
#define Х 10
main(int) {
  int age;
  char name;
  printf("Введите свое имя: ");
  scanf("%s", name);
  printf("Хорошо, %s, а сколько вам лет?\n", name);
  scanf("%d", &age);
  int x = age + Х;
  printf("Неужели, %s! Вам должно быть, по меньшей мере, %d.\n", В, x);
  return 0;
}
```

---



3. Вот исправленный код:

```c
#define В "Вообоо"
#define Х 10
int main() {
  int age;
  char name[20];
  printf("Введите свое имя: ");
  scanf("%s", name);
  printf("Хорошо, %s, а сколько вам лет?\n", name);
  scanf("%d", &age);
  int x = age + Х;
  printf("Неужели, %s! Вам должно быть, по меньшей мере, %d.\n", В, x);
  return 0;
}
```

Изменения включают в себя:

* Добавлено объявление массива символов `name`, чтобы сохранить вводимое имя пользователя.
* Объявлено `age` как целочисленное значение (`int`).
* Вместо `%f` в последней строке используется `%d`, так как мы ожидаем целочисленное значение для возраста, а не число с плавающей точкой.
* Во всех вызовах функции `scanf()` строка формата содержит модификатор `&` перед переменными `name` и `age`, чтобы указать адрес каждой переменной для записи в нее значения из ввода.

---



5. Предположим, что программа начинается так:#define ВООК "Война и мир" int main(void){float cost = 12.99; float percent = 80.0;Напишите оператор printf (), который использует ВООК, cost и percent для следующего вывода:Данный экземпляр книги "Война и мир" стоит $12.99.Это 80% от цены в прайс-листе.

---



1. а. `Он продал эту картину за $234.50.` - Значение 2.345e2 равно 234.50, форматирование с использованием %2.2f печатает значение с двумя знаками после запятой и ограничивает количество выводимых символов.
   б. `Никто` - 'Н' соответствует букве "N" в ASCII кодировке, 105 соответствует букве "i", а '\41' - это обратная косая черта и цифра "4". Получится "Ni4".
   в. `"Его Гамлет был хорош, и без намека на вульгарность." содержит 47 символов.` - Конструкция #define объявляет макрос, поэтому при подстановке константы Q в функцию strlen() будет передано значение указанной строки ("Его Гамлет был хорош, и без намека на вульгарность."). Функция strlen() возвращает количество символов в строке, которое равно 47.
   г. `Является ли 1.20е+03 тем же, что и1201.00?` - Спецификатор %е используется для экспоненциальных чисел (научной записи), поскольку 2.345e2 эквивалентно 234,5, то %е применен к первому аргументу выведет "1.20е+03", а когда %f применен к одному и тому же значению, результатом будет "1201,000000".
2. Для того чтобы вывести значение строки Q в двойных кавычках, следующий оператор printf() должен быть изменен следующим образом:


```c
printf("\"%s\" содержит %d символов.\n", Q, strlen(Q));
```

4. Исправленный код:


```c
#define В "Воображаемый Бог"
#define Х 10

int main(void) {
    int age;
    char name[20];

    printf("Введите свое имя: ");
    scanf("%s", name);

    printf("Хорошо, %s, а сколько вам лет?\n", name);
    scanf("%d", &age);

    int result = age + Х;
    printf("Неужели, %s! Вам должно быть, по меньшей мере, %d.\n", В, result);
    return 0;
}
```

Исправленные ошибки:

* Определение константы В строкой "В">
* Определение переменной типа char вместо массива char для ввода имени
* Добавление символа новой строки внутри последнего вызова printf()

5. Оператор printf():


```c
printf("Данный экземпляр книги \"%s\" стоит $%.2f.\nЭто %.0f%% от цены в прайс-листе.", ВООК, cost, percent);
```

Этот оператор выводит:


```
Данный экземпляр книги "Война и мир" стоит $12.99.
Это 80% от цены в прайс-листе.
```


---



6. Какие спецификаторы преобразования вы бы использовали, чтобы вывести сле­дующие данные?а. Десятичное целое число с шириной поля, равной количеству ц и ф р  этого числа.б. Шестнадцатеричное целое число в форме 8А с шириной поля 4 символа.в. Число с плавающей запятой в форме 232.346 с шириной поля 10 символов.г.  Число с плавающей запятой в ф о р м е  2.33е+ОО2 с шириной поля 12 символов.д. Строку, выровненную по левому краю внутри ноля шириной 30 символов.

---



6. Спецификаторы для вывода данных:

а. `%d` с флагом ширины поля (`%n`) - например, `printf("%5d", num);` выведет целое число с шириной поля в 5 символов, дополненных пробелами слева при необходимости.

б. `%04X` - например, `printf("%04X", num);` выведет шестнадцатеричное число в форме 8А с шириной поля 4 символа и дополненных нулями слева при необходимости.

в. `%10f` - например, `printf("%10f", num);` выведет число с плавающей запятой в форме 232.346 с шириной поля 10 символов и дополненных пробелами слева при необходимости.

г. `%12e` - например, `printf("%12e", num);` выведет число с плавающей запятой в форме 2.33е+002 с шириной поля 12 символов.

д. `%·30s` - например, `printf("%-30s", str);` выведет строку, выровненную по левому краю внутри поля шириной 30 символов и дополненных пробелами справа при необходимости.

---



7. Какие спецификаторы преобразования вы б ы  использовали, чтобы вывести сле­дующие данные?а. Целое число типа unsigned long в поле шириной 15 символов.б. Шестнадцатеричное целое число в ф о р м е  Ох8а в поле шириной 4 символа.в. Число с плавающей запятой в форме 2.33Е+О2 в поле шириной 12 символов с выравниванием по левому краю поля.г.  Число с плавающей запятой в форме +232.346 в поле шириной 10 символов.д. Первые 8 символов строки в поле шириной 8 символов.

---

. `%15lu`
б. `%4X`
в. `%-12.2e`
г. `%+10.3f`
д. `%.8s`

---



8. Какие спецификаторы преобразования вы б ы  использовали, чтобы вывести сле­дующие данные?а. Десятичное целое число, имею щ е е  минимум 4 цифры, в поле шириной 6 сим­волов.б. Восьмеричное целое число в ноле, ширина которого будет указываться в спис­ке аргументов.в. Символ в поле шириной 2 символа.г.  Число с галавающсй запятой в форме +3.13 в поле с шириной, которая равна количеству символов в этом числе.д. Первые пять символов в строке, выровненной по левому краю поля шириной 7 символов.

---



8. Спецификаторы преобразования для вывода данных:

a. `%6d`
b. `%0*о`
c. `%-2с`
g. `%+g`
d. `%-7.5s`

Примечание: `*` во втором примере используется, чтобы указать на то, что ширина поля будет передана как аргумент в функцию по форматированию `printf()`

---



9. Для к^аждой из следующих входных строк напишите оператор scanf (), чтобы прочитать их. Объявите также переменные или массивы, используемые в опе­раторе.а. 101б. 22.32  8. 34Е-09в. linguiniг. catch 22д. catch 22  (но пропустить catch)

---



а. `int num; scanf("%d", &num);`

б. `float num1, num2, num3; scanf("%f %f %f", &num1, &num2, &num3);`

в. `char str[8]; scanf("%s", str);`

г. `char str[8]; scanf("%s", str);`

д. `int num; scanf("%*s %d", &num);`

---



10. Что такое пробельный символ?

---

Пробельный символ - это любой символ, который используется для создания пробелов между двумя или более словами в строке. Примеры пробельных символов: пробел, табуляция, перевод строки, возврат каретки и форм-фид (ASCII значения 32, 9, 10, 13, 12 соответственно). Эти символы не отображаются при выводе текста, но оказывают большое влияние на распределение элементов в распечатке документа. В языке программирования C пробельные символы также могут использоваться для предоставления разделителей при чтении данных из файлов, консоли или других источников ввода.

---



11. В чем заключается ошибка в следующем операторе, и как ее м ожно исправить?printfCTHn  double  состоит  из  %z  байтов..\n",  sizeof  (double));

---



Ошибка в том, что спецификатор преобразования "%z" неверен и не соответствует множеству допустимых спецификаторов преобразования. Вместо это нужно использовать спецификатор преобразования "%zu", который используется для беззнакового целочисленного вывода размера объекта типа size_t.

Исправленный оператор будет выглядеть так:

CopyInsertNew

```c
printf("double состоит из %zu байтов..\n", sizeof(double));
```

---



12. Предположим, что в своих программах вы хотели б ы  использовать круглые скоб­ки вместо ф и г у р н ы х. Насколько хорошо бы работали сле,^тощие конструкции?#define  (  {#define  )  }

---



Эти определения приведут к некорректной работе программы. Круглые скобки - это не только символы функций в языке Си, они также являются частью синтаксиса языка и используются для задания приоритетов операций, объединения выражений в функции и т.д.

Попытка переопределить эти символы в пару макросов будет влиять на работу всех операций, использующих круглые скобки, и приведет к ошибкам компиляции. Поэтому не следует использовать круглые скобки в качестве макросов.

---


```c++
#include <stdio.h>

int main() {
  // Объявляем переменные для хранения имени и фамилии
  char firstName[20];
  char lastName[20];

  // Запрашиваем ввод имени и фамилии
  printf("Введите имя: ");
  scanf("%s", firstName);

  printf("Введите фамилию: ");
  scanf("%s", lastName);

  // Выводим данные в требуемом формате
  printf("%s, %s\n", lastName, firstName);

  return 0;
}
```

Пример использования:

```
Введите имя: John
Введите фамилию: Doe
Doe, John
```

---


```c
#include <stdio.h>
#include <string.h>

int main() {
    char name[20];
    printf("Введите имя: ");
    scanf("%s", name);
  
    // вывод имени в кавычках
    printf("\"%s\"\n", name);
  
    // выравнивание имени по правому краю поля шириной 20 символов
    printf("\"%20s\"\n", name);
   
    // выравнивание имени по левому краю поля шириной 20 символов
    printf("\"%-20s\"\n", name);
   
    // поле шириной на 3 символа больше, чем длина имени
    printf("\"%*s\"\n", strlen(name) + 3, name);
  
    return 0;
}
```

В этой программе мы используем функцию `printf()` из стандартной библиотеки для форматированного вывода строки. Здесь нам нужны следующие спецификаторы формата:

* `%s` - для вывода строки (имени)
* `\"` - вывод двойных кавычек
* `%20s` - вывод строки с выравниванием по правому краю в поле шириной 20 символов
* `%-20s` - вывод строки с выравниванием по левому краю в поле шириной 20 символов
* `%*s` - вывод строки с динамически определяемой шириной

Мы также используем функцию `strlen()` для определения длины имени.

---


```c
#include<stdio.h>

int main() {
  double number;

  // Запрашиваем и считываем число с плавающей запятой
  printf("Введите число с плавающей запятой: ");
  scanf("%lf", &number);

  // Выводим десятичную форму с двумя знаками после запятой
  printf("Десятичная форма: %.2f\n", number);
  
  // Выводим экспоненциальную форму с одной цифрой после запятой в мантиссе и двумя знаками в показателе степени
  printf("Экспоненциальная форма: %e\n", number);

  return 0;
}
```

В этой программе используются следующие функции форматирования для вывода числа:

* `%f` - вывод числа с плавающей запятой в десятичной форме
* `%.2f` - вывод числа с плавающей запятой в десятичной форме с двумя знаками после запятой
* `%e` - вывод числа с плавающей запятой в экспоненциальной форме (научной нотации)
* `%e` - вывод числа с плавающей запятой в экспоненциальной форме (научной нотации) с одной цифрой после запятой в мантиссе и двумя знаками в показателе степени.

Для ввода чисел с плавающей запятой использовался спецификатор `%lf`, который указывает функции `scanf()` на то, что необходимо считывать число с плавающей запятой типа `double`. Обратите внимание, что для обозначения переменной `number` использовался тип `double`.

Пример работы программы:

```
Введите число с плавающей запятой: 21.3
Десятичная форма: 21.30
Экспоненциальная форма: 2.130000e+01
```

```
Введите число с плавающей запятой: +21.290
Десятичная форма: 21.29
Экспоненциальная форма: 2.129000e+01
```

---


```c
#include <stdio.h>

int main() {
    float height_inches;
    char name[50];

    printf("Введите ваше имя: ");
    scanf("%s", &name);

    printf("Введите ваш рост в дюймах: ");
    scanf("%f", &height_inches);
  
    float height_feet = height_inches / 12.0;
    printf("%s, ваш рост составляет %.3f футов\n", name, height_feet);

    return 0;
}
```

Первым делом мы объявляем переменную `height_inches` и массив `name`, которые будут использоваться для хранения введенных пользователем данных.

Затем мы запрашиваем имя пользователя и сохраняем его в массив `name` с помощью функции `scanf`.

Далее мы запрашиваем рост пользователя в дюймах и сохраняем его в переменной `height_inches` с помощью функции `scanf`.

Используя операцию деления `/`, мы переводим рост из дюймов в футы и сохраняем его в переменной `height_feet`.

Наконец, мы выводим полученную информацию с помощью `printf`, используя спецификатор `%s` для вывода имени пользователя и `%f` для вывода роста в футах с округлением до трех знаков после запятой.

---


```c
#include <stdio.h>

int main() {
    float speed, size, time;

    printf("Введите скорость загрузки в мегабитах в секунду: ");
    scanf("%f", &speed);

    printf("Введите размер файла в мегабайтах: ");
    scanf("%f", &size);

    time = size * 8 / speed; // время = размер файла в битах / скорость загрузки в битах в секунду

    printf("При скорости загрузки %.2f мегабит в секунду файл размером %.2f мегабайт загружается за %.2f секунд(ы).\n", speed, size, time);

    return 0;
}
```

Пример вывода:

```
Введите скорость загрузки в мегабитах в секунду: 18.12
Введите размер файла в мегабайтах: 2.20
При скорости загрузки 18.12 мегабит в секунду файл размером 2.20 мегабайт загружается за 1.21 секунд(ы).
```

---



Для решения данной задачи мы можем использовать функции работы со строками, такие как strlen() и printf().

Вот код программы на языке C, который выполняет требуемые действия:

```c
#include <stdio.h>
#include <string.h>

int main() {
  char first_name[20];
  char last_name[20];

  // Запрос имени и фамилии пользователя
  printf("Введите ваше имя: ");
  scanf("%s", first_name);
  printf("Введите вашу фамилию: ");
  scanf("%s", last_name);

  // Вывод имени и фамилии в одну строку с количеством символов для каждого слова
  printf("%s %s\n", first_name, last_name);
  printf("%*d %*d\n", (int) strlen(first_name), strlen(first_name), (int) strlen(last_name), strlen(last_name));

  // Вывод имени и фамилии в одну строку с количеством символов для каждого слова, выровненным по началу каждого слова
  printf("%s %s\n", first_name, last_name);
  printf("%-*d %-*d\n", (int) strlen(first_name), strlen(first_name), (int) strlen(last_name), strlen(last_name));

  return 0;
}
```

Пользователь вводит свое имя и фамилию, которые сохраняются в соответствующих переменных типа char[]. Затем используются две последовательные строки формата printf(), в которых % *d для выравнивания количества символов с помощью звездочки (* ). Переменная strlen() используется для определения количества символов каждой строки.

Первая строка формата printf() выводит первоначальный ввод в отформатированном виде, а вторая строка формата printf() выравнивает каждый показатель длины между именем и фамилией.

Пример вывода программы:

```
Введите ваше имя: Иван
Введите вашу фамилию: Петров
Иван Петров
4    6
Иван Петров
4    6
```

---


```c
#include <stdio.h>
#include <float.h>

int main(void)
{
    double doubleValue = 1.0 / 3.0;
    float floatValue = 1.0 / 3.0;

    printf("Values with 4 digits:\n");
    printf("Double: %.4f\n", doubleValue);
    printf("Float: %.4f\n", floatValue);

    printf("\nValues with 12 digits:\n");
    printf("Double: %.12f\n", doubleValue);
    printf("Float: %.12f\n", floatValue);

    printf("\nValues with 16 digits:\n");
    printf("Double: %.16f\n", doubleValue);
    printf("Float: %.16f\n", floatValue);

    printf("\nFLT_DIG: %d\n", FLT_DIG);
    printf("DBL_DIG: %d\n", DBL_DIG);

    return 0;
}
```

Вывод программы будет следующим:


```
Values with 4 digits:
Double: 0.3333
Float: 0.3333

Values with 12 digits:
Double: 0.333333333333
Float: 0.333333343267

Values with 16 digits:
Double: 0.3333333333333333
Float: 0.3333333432674408

FLT_DIG: 6
DBL_DIG: 15
```

Значение `FLT_DIG` соответствует количеству значащих десятичных цифр для типа float, а значение `DBL_DIG` для типа double.

В данном случае видно, что значения второй и третьей колонки не совпадают, так как тип float имеет меньшую точность, чем double.

Ответ на вопрос о том, согласуются ли выведенные значения со значением 1.0/0.3, — нет, поскольку используется значение 1.0/3.0.

---


```c++
#include <iostream>
using namespace std;

int main()
{
   const float GAL_TO_LITERS = 3.785; // коэффициент для преобразования галлонов в литры
   const float MILE_TO_KM = 1.609; // коэффициент для преобразования миль в километры

   double miles, gallons;
   cout << "Введите количество пройденных миль: ";
   cin >> miles;
   cout << "Введите количество израсходованных галлонов: ";
   cin >> gallons;

   double milesPerGallon = miles / gallons;
   cout << "Количество миль на один галлон: " << fixed << setprecision(1) << milesPerGallon << endl;

   double litersPer100Km = GAL_TO_LITERS / (milesPerGallon * MILE_TO_KM) * 100;
   cout << "Расход топлива составляет " << fixed << setprecision(1) << litersPer100Km << " литров на 100 км." << endl;

   return 0;
}
```
